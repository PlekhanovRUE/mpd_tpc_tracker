# Start searching for parameters

1) Installing the necessary libraries

If there is no virtual environment created:
```shell
python3 -m venv venv
```

If a virtual environment has already been created, you need to activate it:
```shell
source venv/bin/activate
```

Installing libraries:
```shell
pip install optuna
pip install optuna-integration
pip install botorch
```
2) Running the script:

```shell
python3 param_optimize/black-box-opt.py
```
You can add optional parameters. For example:

```shell
python3 param_optimize/black-box-opt.py -logdir logs -n_trials 100 -method random -n_events 20
```

# Optional script parameters:
* **-logdir** – directory for saving hyperparameter search logs (<u>default value: log_params</u>, if there is no such folder, it will be created in the script launch directory);
* **-n_trials** – the number of “epochs”, that is, the number of calls to the target function (<u>default value: 200</u>, if the entered value < 1, the number of epochs will not be limited, that is, the full bust);
* **-method** – select the algorithm for finding hyperparameters (see below) (<u>default value: random</u>), available values:
 + _random_ – random search (RandomSearch),
 + _tpe_ – tree-structured Parzen Estimator (TPE_),
 + _cmaes_ – covariance matrix adaptation evolution strategy (eng. _Covariance Matrix Adaptation Evolution Strategy, CMA-ES_),
 + _nsgaii_ – genetic algorithm with non-dominated sorting (eng. _Non-Dominated Sorting Genetic Algorithm, NSGA-II_),
 + _qmc_ – quasi Monte Carlo (eng. _Quasi-Monte Carlo, QMC_),
 + _gp_ – Bayesian process-based Bayesian optimization, GP_),
 + _bayes_ – Bayesian Optimization.
* **-n_events** – number of events for the tracker (<u>default value: 20</u>)

# Available optimization algorithms:

* **Random** is a method that selects random combinations of parameters from a given parameter space;
* **TPE** is a method in which 1) a number of observations are collected using RandomSearch; 2) two different distributions of hyperparameters are specified: the first for values ​​of the objective function less than the threshold value, the second - for values ​​of the objective function greater than the threshold value; 3) several candidate values ​​are sampled from the second distribution; 4) from these candidates, the one that is most likely to end up in the second group (consisting of the best observations) is found; 5) this candidate is used for the next iteration;
* **CMA-ES** is a method based on the principle of biological evolution, namely the repeated interaction of variation (through recombination and mutation) and selection: in each generation (iteration), new individuals (candidate solutions) are generated by variation, usually in a stochastic manner, the current parents. At each generation, the covariance matrix is ​​recalculated, which directly affects the size and shape of the region where future potential solutions will be generated;
* **NSGA-II** is a method whose main idea is to force the set of possible solutions to evolve towards the best solution in order to solve a multicriteria optimization problem, that is, a set of Pareto optimal solutions, so-called non-dominated solutions, is found. A non-dominated solution is a solution that provides a suitable trade-off between all objectives without degrading any of them. If any solution does not dominate it, solution x will be considered non-dominated and will be selected by NSGA-II as one of the set of Pareto fronts;
* **QMC** is a method that uses low variance sequences (also called quasi-random sequences or sub-random sequences) to achieve variance reduction;
* **GP** is a Bayesian optimization (BO) based on Gaussian process regression (GPR);
* **BAYES** is an iterative method that, at each iteration, indicates the most likely point at which the objective function will be optimal. In this case, the generated probable points include two components: 1) a good point where, according to history, the function produced good results on previous calls (exploitation), 2) a good point where there is high uncertainty, that is, unexplored parts of space (exploration).